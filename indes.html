<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>ì¹´ì¹´ì˜¤ë§µ í´ë¦­ ìœ„ì¹˜ ì£¼ì†Œ í‘œì‹œ</title>
  <style>
    #map { width: 100%; height: 500px; }
    #info { padding: 10px; background: #f5f5f5; }
  </style>
</head>
<body>
  <div id="info">
    ğŸ“ <span id="coords">ìœ„ë„: -, ê²½ë„: -</span><br>
    ğŸ  <span id="address">ì£¼ì†Œ: -</span>
  </div>
  <div id="map"></div>

  <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=c543ee5ba7572b86f82336d8d7056630&libraries=services"></script>
  <script>
    const mapContainer = document.getElementById('map');
    const mapOption = {
      center: new kakao.maps.LatLng(37.5665, 126.9780), // ì„œìš¸ ì‹œì²­ ê¸°ì¤€
      level: 3
    };

    const map = new kakao.maps.Map(mapContainer, mapOption);
    const geocoder = new kakao.maps.services.Geocoder();

    const marker = new kakao.maps.Marker();
    
    kakao.maps.event.addListener(map, 'click', function(mouseEvent) {
      const latlng = mouseEvent.latLng;

      // ë§ˆì»¤ ìœ„ì¹˜ ì„¤ì •
      marker.setMap(map);
      marker.setPosition(latlng);

      // ìœ„ë„/ê²½ë„ ì¶œë ¥
      document.getElementById('coords').textContent =
        `ìœ„ë„: ${latlng.getLat().toFixed(6)}, ê²½ë„: ${latlng.getLng().toFixed(6)}`;

      // ì£¼ì†Œ ìš”ì²­
      geocoder.coord2Address(latlng.getLng(), latlng.getLat(), function(result, status) {
        if (status === kakao.maps.services.Status.OK) {
          const address = result[0].address?.address_name || 'ì£¼ì†Œ ì—†ìŒ';
          document.getElementById('address').textContent = `ì£¼ì†Œ: ${address}`;
        }
      });
    });
  </script>
</body>
</html>
