<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>ì¹´ì¹´ì˜¤ë§µ ìœ„ë„/ê²½ë„ ë° ì£¼ì†Œ í‘œì‹œ</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #info {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 2;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }

    #map {
      width: 100%;
      height: 100%;
    }

    .map-type-buttons {
      position: absolute;
      top: 120px;
      left: 10px;
      z-index: 2;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }

    .map-type-buttons button {
      padding: 8px 12px;
      border: none;
      background: none;
      font-size: 14px;
      cursor: pointer;
    }

    .map-type-buttons button:hover {
      background-color: #e6e6e6;
    }
  </style>
</head>
<body>
  <div id="info">
    ğŸ“ <span id="coords">ìœ„ë„: -, ê²½ë„: -</span><br>
    ğŸ  <span id="address">ì£¼ì†Œ: -</span>
  </div>

  <div class="map-type-buttons">
    <button onclick="setMapType('roadmap')">ğŸ—ºï¸ ì¼ë°˜ì§€ë„</button>
    <button onclick="setMapType('skyview')">ğŸ›°ï¸ ìœ„ì„±ì§€ë„</button>
  </div>

  <div id="map"></div>

  <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=c543ee5ba7572b86f82336d8d7056630&libraries=services"></script>
  <script>
    const mapContainer = document.getElementById('map');
    const mapOption = {
      center: new kakao.maps.LatLng(37.5665, 126.9780), // ì„œìš¸ ì‹œì²­ ì¢Œí‘œ
      level: 3
    };

    const map = new kakao.maps.Map(mapContainer, mapOption);
    const geocoder = new kakao.maps.services.Geocoder();
    const marker = new kakao.maps.Marker();

    kakao.maps.event.addListener(map, 'click', function(mouseEvent) {
      const latlng = mouseEvent.latLng;

      // ë§ˆì»¤ í‘œì‹œ
      marker.setMap(map);
      marker.setPosition(latlng);

      // ìœ„ë„/ê²½ë„ í‘œì‹œ
      document.getElementById('coords').textContent =
        `ìœ„ë„: ${latlng.getLat().toFixed(6)}, ê²½ë„: ${latlng.getLng().toFixed(6)}`;

      // ì£¼ì†Œ ë³€í™˜
      geocoder.coord2Address(latlng.getLng(), latlng.getLat(), function(result, status) {
        if (status === kakao.maps.services.Status.OK) {
          const address = result[0].address?.address_name || 'ì£¼ì†Œ ì—†ìŒ';
          document.getElementById('address').textContent = `ì£¼ì†Œ: ${address}`;
        }
      });
    });

    // ì§€ë„ íƒ€ì… ë³€ê²½ í•¨ìˆ˜
    function setMapType(type) {
      if (type === 'roadmap') {
        map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);
      } else if (type === 'skyview') {
        map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);
      }
    }
  </script>
</body>
</html>
