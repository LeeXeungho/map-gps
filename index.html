<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>카카오맵 위도/경도 및 주소 표시</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #info {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 2;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }

    #map {
      width: 100%;
      height: 100%;
    }

    .map-type-buttons {
      position: absolute;
      top: 120px;
      left: 10px;
      z-index: 2;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }

    .map-type-buttons button {
      padding: 8px 12px;
      border: none;
      background: none;
      font-size: 14px;
      cursor: pointer;
    }

    .map-type-buttons button:hover {
      background-color: #e6e6e6;
    }
  </style>
</head>
<body>
  <div id="info">
    📍 <span id="coords">위도: -, 경도: -</span><br>
    🏠 <span id="address">주소: -</span>
  </div>

  <div class="map-type-buttons">
    <button onclick="setMapType('roadmap')">🗺️ 일반지도</button>
    <button onclick="setMapType('skyview')">🛰️ 위성지도</button>
  </div>

  <div id="map"></div>

  <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=c543ee5ba7572b86f82336d8d7056630&libraries=services"></script>
  <script>
    const mapContainer = document.getElementById('map');
    const mapOption = {
      center: new kakao.maps.LatLng(37.5665, 126.9780), // 서울 시청 좌표
      level: 3
    };

    const map = new kakao.maps.Map(mapContainer, mapOption);
    const geocoder = new kakao.maps.services.Geocoder();
    const marker = new kakao.maps.Marker();

    kakao.maps.event.addListener(map, 'click', function(mouseEvent) {
      const latlng = mouseEvent.latLng;

      // 마커 표시
      marker.setMap(map);
      marker.setPosition(latlng);

      // 위도/경도 표시
      document.getElementById('coords').textContent =
        `위도: ${latlng.getLat().toFixed(6)}, 경도: ${latlng.getLng().toFixed(6)}`;

      // 주소 변환
      geocoder.coord2Address(latlng.getLng(), latlng.getLat(), function(result, status) {
        if (status === kakao.maps.services.Status.OK) {
          const address = result[0].address?.address_name || '주소 없음';
          document.getElementById('address').textContent = `주소: ${address}`;
        }
      });
    });

    // 지도 타입 변경 함수
    function setMapType(type) {
      if (type === 'roadmap') {
        map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);
      } else if (type === 'skyview') {
        map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);
      }
    }
  </script>
</body>
</html>
